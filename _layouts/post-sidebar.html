---
layout: default
---

<!-- CSS Riêng cho Layout bài viết -->
<style>
    /* 1. Reset style cho Header bài viết (tránh xung đột nếu quên sửa style.css) */
    article header {
        position: static;
        background: transparent;
        height: auto;
        color: var(--text-main);
        box-shadow: none;
        padding: 0;
        display: block;
    }

    /* 2. Breadcrumb */
    .breadcrumb { font-size: 0.9rem; color: #666; margin-bottom: 15px; }
    .breadcrumb a { color: #666; }
    .breadcrumb a:hover { color: var(--accent-color); }
    
    /* 3. Post Header Elements */
    .entry-title {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 15px;
        line-height: 1.3;
        color: var(--primary-color);
    }

    .meta-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 10px;
        border-bottom: 1px solid #eee;
        padding-bottom: 15px;
        margin-bottom: 20px;
    }
    
    .meta-info { font-size: 0.9rem; color: #555; }
    .meta-info span { margin-right: 10px; }
    .meta-info i { color: var(--accent-color); }

    .social-share a {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: #f0f0f0;
        color: var(--primary-color);
        margin-left: 5px;
        font-size: 0.8rem;
        font-weight: bold;
    }
    .social-share a:hover { background: var(--accent-color); color: white; }

    /* 4. Feature Image */
    .featured-image-wrapper { margin-bottom: 30px; }
    .featured-image {
        width: 100%;
        height: auto;
        border-radius: 6px;
        object-fit: cover;
    }

    /* 5. Main Content Fix */
    /* Quan trọng: Ngăn nội dung bị tràn làm vỡ khung */
    .entry-content {
        font-size: 1.1rem;
        overflow-wrap: break-word; 
        word-wrap: break-word;
    }
    .entry-content img { max-width: 100%; height: auto; }
    .entry-content h2 { margin-top: 1.5em; border-left: 4px solid var(--accent-color); padding-left: 15px; }
    .entry-content h3 { margin-top: 1.2em; color: var(--secondary-color); }

    /* 6. Footer Layout */
    .entry-footer { margin-top: 50px; }
    
    .keyword-list { margin-bottom: 30px; }
    .keyword-tag {
        display: inline-block;
        background: #f9f9f9;
        border: 1px solid #eee;
        padding: 4px 10px;
        border-radius: 4px;
        font-size: 0.85rem;
        color: #666;
        margin-right: 5px;
        margin-bottom: 5px;
    }
    .keyword-tag:hover { border-color: var(--accent-color); color: var(--primary-color); }

    .author-bio {
        background: var(--bg-light);
        padding: 20px;
        border-radius: 8px;
        display: flex;
        gap: 20px;
        align-items: center;
        margin-bottom: 40px;
    }
    .author-bio img { width: 70px; height: 70px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }

    .related-posts h3 { 
        font-size: 1.3rem; 
        border-bottom: 2px solid var(--border-color); 
        padding-bottom: 10px; 
        margin-bottom: 20px;
    }
    
    .related-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
    }
    
    @media (max-width: 768px) {
        .meta-row { flex-direction: column; align-items: flex-start; }
        .related-grid { grid-template-columns: 1fr; }
        .author-bio { flex-direction: column; text-align: center; }
    }
</style>

<div class="container layout-grid layout-sidebar-right section" margin-top="70px;">
    
    <!-- MAIN CONTENT COLUMN -->
    <!-- min-width: 0 giúp Grid item co lại nếu nội dung bên trong quá to (như ảnh, code block) -->
    <main id="main-content" style="min-width: 0;">
        <article itemscope itemtype="http://schema.org/BlogPosting">
            
            <!-- --- PHẦN HEADER BÀI VIẾT --- -->
            <header class="entry-header">
                <!-- Breadcrumb -->
                <nav class="breadcrumb">
                    <a href="{{ '/' | relative_url }}">Trang chủ</a> 
                    {% if page.categories[0] %}
                    / <a href="{{ '/' | append: (page.categories[0] | slugify: 'latin' ) | relative_url }}">{{ page.categories[0] | capitalize }}</a>
                    / <a href="#">{{ page.title }}</a>
                    {% endif %}
                </nav>

                <!-- Title -->
                <h1 class="entry-title" itemprop="headline">{{ page.title }}</h1>

                <!-- Meta Info + Share -->
                <div class="meta-row">
                    <div class="meta-info">
                        <span itemprop="author">Bởi <strong>{{ page.author | default: site.author }}</strong></span>
                        <time itemprop="datePublished" datetime="{{ page.date | date_to_xmlschema }}">
                            {{ page.date | date: "%d/%m/%Y" }}
                        </time>
                        <span style="color: var(--accent-color); font-weight: bold;">{{ page.categories | first }}</span>
                        <span class="reading-time">
                            <span class="separator">&bull;</span>
                            <span class="icon">⏱</span>
                            {% assign words = content | number_of_words %}
                            {% assign read_time = words | divided_by: 400 %}
                            {% if read_time < 1 %}
                                1 phút đọc
                            {% else %}
                                {{ read_time }} phút đọc
                            {% endif %}
                        </span>
                    </div>
                    
                    <div class="social-share">
                        <span><b>Chia sẻ:</b></span>
                        <a href="https://www.facebook.com/sharer/sharer.php?u={{ page.url | absolute_url }}" target="_blank" rel="nofollow noopener" aria-label="Share Facebook">FB</a>
                        <a href="https://twitter.com/intent/tweet?text={{ page.title }}&url={{ page.url | absolute_url }}" target="_blank" rel="nofollow noopener" aria-label="Share X">X</a>
                        <a href="https://t.me/share/url?url={{ page.url | absolute_url }}&text={{ page.title }}" target="_blank" rel="nofollow noopener" aria-label="Share Telegram">TG</a>
                    </div>
                </div>

                <!-- Feature Image (Responsive) -->
                {% if page.feature_image %}
                <div class="featured-image-wrapper">
                    <img src="{{ page.feature_image | relative_url }}" alt="{{ page.title }}" class="featured-image" itemprop="image">
                </div>
                {% endif %}
            </header>

            <!-- --- PHẦN MAIN CONTENT --- -->
            <div class="entry-content" itemprop="articleBody">
                {{ content }}
            </div>

            <!-- --- PHẦN FOOTER BÀI VIẾT --- -->
            <footer class="entry-footer">
                
                <!-- 1. Keywords / Tags -->
                {% if page.keywords.size > 0 %}
                <div class="keyword-list">
                    <strong>Từ khóa: </strong>
                    {% if page.keywords contains ',' %}
                        {% assign keywords_list = page.keywords | split: ',' %}
                        {% for kw in keywords_list %}
                            <a href="#" rel="tag" class="keyword-tag">{{ kw | strip }}</a>
                        {% endfor %}
                    {% else %}
                        {% for kw in page.keywords %}
                            <a href="#" rel="tag" class="keyword-tag">{{ kw }}</a>
                        {% endfor %}
                    {% endif %}
                </div>
                {% endif %}

                <!-- 2. Author Box -->
                <div class="author-bio">
                    <img src="{{ site.author_avatar | relative_url }}" alt="{{ site.author }}">
                    <div>
                        <h4 style="margin-bottom: 5px; color: var(--primary-color);">{{ page.author | default: site.author }}</h4>
                        <p style="margin-bottom: 0; font-size: 0.95rem;">
                            Trader & Chuyên gia phân tích kỹ thuật theo lý thuyết sóng Elliott. Theo dõi tôi để nhận các kịch bản giao dịch Sóng Elliott mới nhất.
                        </p>
                    </div>
                </div>

                <!-- 3. Related Posts -->
                <div class="related-posts">
                    <h3>Bài viết cùng chủ đề</h3>
                    <div class="related-grid">
                        {% assign maxRelated = 4 %}
                        {% assign count = 0 %}
                        {% for post in site.posts %}
                            {% if post.url != page.url and post.categories contains page.categories[0] %}
                                <div class="post-card">
                                    <div class="post-card-body" style="padding: 15px;">
                                        <div class="post-meta">{{ post.date | date: "%d/%m/%Y" }}</div>
                                        <h4 style="font-size: 1rem; margin-bottom: 5px;">
                                            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                                        </h4>
                                    </div>
                                </div>
                                {% assign count = count | plus: 1 %}
                                {% if count >= maxRelated %}{% break %}{% endif %}
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
            </footer>

        </article>
    </main>

    <!-- INCLUDE SIDEBAR -->
    {% include sidebar.html %}
</div>